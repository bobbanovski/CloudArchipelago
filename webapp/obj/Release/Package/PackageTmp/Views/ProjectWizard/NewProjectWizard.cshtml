@model SmartAdminMvc.ArchipelagoModel.Project

@{
    ViewBag.Title = "NewProjectWizard";
}


<div id="content">
    <div class="row">
        <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
            <h1 class="page-title txt-color-blueDark"><i class="fa-fw fa fa-bolt"></i> New Project <span>> Project Wizard</span></h1>
        </div>
    </div>
</div>

<section id="widget-grid" class="">
    <div class="row">

        <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <!--Start of Widget-->
            <div class="jarviswidget jarviswidget-color-darken" id="wid-id-0"
                 data-widget-editbutton="false"
                 data-widget-deletebutton="false">

                <header>
                    <span class="widget-icon"> <i class="fa fa-bolt txt-color-yellow"></i> </span>
                    <h2>New Project</h2>

                </header>
                <div>
                    <!--Do not take out-->

                    <div class="widget-body fuelux">
                        <div class="widget-body fuelux">
                            <!--Start Wizard content-->

                            <div class="wizard">
                                <ul class="steps">
                                    <li data-target="#step1" class="active">
                                        <span class="badge badge-info">1</span>Upload Template<span class="chevron"></span>
                                    </li>
                                    <li data-target="#step2">
                                        <span class="badge">2</span>Confirm Data<span class="chevron"></span>
                                    </li>
                                    <li data-target="#step3">
                                        <span class="badge">3</span>Specify Plant Parameters<span class="chevron"></span>
                                    </li>
                                    <li data-target="#step4">
                                        <span class="badge">4</span>Review<span class="chevron"></span>
                                    </li>
                                    <li data-target="#step5">
                                        <span class="badge">5</span>Confirm Save New Project<span class="chevron"></span>
                                    </li>
                                </ul>
                                <div class="actions">
                                    <button type="button" class="btn btn-sm btn-primary btn-prev">
                                        <i class="fa fa-arrow-left"></i>Prev
                                    </button>
                                    <button type="button" class="btn btn-sm btn-success btn-next" data-last="Finish">
                                        Next<i class="fa fa-arrow-right"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="step-content">
                                @*@using (Html.BeginForm("TemplateUpload","ProjectWizardController",FormMethod.Post,new (encType)*@
                                <form class="form-horizontal" id="fuelux-wizard" method="post">

                                    <!-- 1st section - input template-->
                                    <div class="step-pane active" id="step1">
                                        <div class="row">
                                            <div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
                                                <h3><strong>Step 1 </strong> - Upload Data in Template</h3>
                                            </div>
                                        </div>

                                        <!-- wizard form starts here -->
                                        <fieldset>

                                            <div class="form-group">
                                                <div class="row">
                                                    <div class="col-md-2"></div>
                                                    <div class="col-md-10">
                                                        <span>
                                                            <a class="btn btn-primary" href="~/Content/files/Vessel-Components-Template.xlsx">
                                                                <i class="glyphicon glyphicon-cloud-download"></i> Download Template
                                                            </a>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <div class="row">
                                                    <label class="col-md-2 control-label FontLarger">Project Creation Date</label>
                                                    <div class="col-md-4">
                                                        <input class="form-control" disabled="disabled" placeholder="@DateTime.Now.ToString()"
                                                               type="text" name="creationdate">
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="form-group has-success">
                                                <div class="row">
                                                    <label class="col-md-2 control-label txt-color-black">Project Name</label>
                                                    <div class="col-md-6">
                                                        <div class="input-group">
                                                            <span class="input-group-addon"><i class="fa fa-tags"></i></span>
                                                            <input class="form-control" type="text" name="projectname">
                                                            <span class="input-group-addon"><i class="fa fa-check"></i></span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <div class="row">
                                                    <div class="col-md-2">
                                                        <div class="col-md-6">
                                                            <section>
                                                                <span class="input-group-btn">
                                                                    <div ="input input-file">
                                                                        <span class="button">

                                                                            <input type="file" id="file" name="file" onchange="this.parentNode.nextSibling.value = this.value">
                                                                            @*<i class="glyphicon glyphicon-cloud-upload"></i>"*@
                                                                            Browse...

                                                                        </span>
                                                                        <input type="text" @*class="form-control"*@ readonly />
                                                                    </div>
                                                                </span>
                                                            </section>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <div class="row">
                                                    <div class="col-md-2">
                                                        <div class="col-md-6">

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <div class="row">
                                                    <div class="col-md-2">
                                                        <div class="col-md-6">
                                                            @using (Html.BeginForm("TemplateUpload", "ProjectWizard", FormMethod.Post, new { enctype = "multipart/form-data" }))
                                                            {
                                                                @Html.Raw(ViewBag.Error)
                                                                <span>Upload Template</span><input class="btn btn-lg btn-success" type="file" name="excelfile" />
                                                                <br />
                                                                <input class="btn btn-lg btn-primary" type="submit" value="Upload Template" />
                                                            }

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </fieldset>

                                    </div>

                                    <div class="step-pane" id="step2">
                                        <h3><strong>Step 2 </strong> - Alerts</h3>

                                        <div class="alert alert-warning fade in">
                                            <button class="close" data-dismiss="alert">
                                                ×
                                            </button>
                                            <i class="fa-fw fa fa-warning"></i>
                                            <strong>Warning</strong> Your monthly traffic is reaching limit.
                                        </div>

                                        <div class="alert alert-success fade in">
                                            <button class="close" data-dismiss="alert">
                                                ×
                                            </button>
                                            <i class="fa-fw fa fa-check"></i>
                                            <strong>Success</strong> The page has been added.
                                        </div>

                                        <div class="alert alert-info fade in">
                                            <button class="close" data-dismiss="alert">
                                                ×
                                            </button>
                                            <i class="fa-fw fa fa-info"></i>
                                            <strong>Info!</strong> You have 198 unread messages.
                                        </div>

                                        <div class="alert alert-danger fade in">
                                            <button class="close" data-dismiss="alert">
                                                ×
                                            </button>
                                            <i class="fa-fw fa fa-times"></i>
                                            <strong>Error!</strong> The daily cronjob has failed.
                                        </div>

                                    </div>

                                    <div class="step-pane" id="step3">
                                        <h3><strong>Step 3 </strong> - Wizard continued</h3>
                                        <br>
                                        <br>
                                        <h1 class="text-center text-primary"> This will be your Step 3 </h1>
                                        <br>
                                        <br>
                                        <br>
                                        <br>
                                    </div>

                                    <div class="step-pane" id="step4">
                                        <h3><strong>Step 4 </strong> - Wizard continued...</h3>
                                        <br>
                                        <br>
                                        <h1 class="text-center text-danger"> This will be your Step 4 </h1>
                                        <br>
                                        <br>
                                        <br>
                                        <br>
                                    </div>

                                    <div class="step-pane" id="step5">
                                        <h3><strong>Step 5 </strong> - Finished!</h3>
                                        <br>
                                        <br>
                                        <h1 class="text-center text-success">
                                            <i class="fa fa-check"></i> Congratulations!
                                            <br>
                                            <small>Click finish to end wizard</small>
                                        </h1>
                                        <br>
                                        <br>
                                        <br>
                                        <br>
                                    </div>

                                </form>
                            </div>

                        </div> <!--End Wizard Content-->


                    </div> <!--End of fuelux wizard-->
                </div>

            </div> <!--End of widget-->
        </article>
    </div>

    <div class="row">
        <!-- NEW WIDGET START -->
        <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <!--Widget id = 0-->
            <div class="jarviswidget jarviswidget-color-darken" id="wid-id-2"
                 data-widget-editbutton="false"
                 data-widget-deletebutton="false">
                <!--Heading for Vessels Widget-->
                <header>
                    <span class="widget-icon"> <i class="fa fa-table"></i> </span>
                    <h2>Vessels Table</h2>
                </header>

                <div>
                    <!--Do NOT forget this - required for alignment-->


                    <div class="widget-body no-padding">
                        <table id="dt_vessels" class="table table-striped table-bordered table-hover table.display" width="100%">
                            <thead>
                                <tr>
                                    
                                </tr>
                            </thead>


                            <tbody>
                                @foreach (var v in ViewBag.ListVessels)
                                {
                                    <tr>
                                        
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div> <!--End of widget body-->


                </div>
            </div>
        </article>
    </div> <!--End of row-->
    <!--Start of Components Table-->
    <div class="row">
        <!-- NEW WIDGET START -->
        <article class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <!--Widget id = 0-->
            <div class="jarviswidget jarviswidget-color-darken" id="wid-id-3"
                 data-widget-editbutton="false"
                 data-widget-deletebutton="false">
                <!--Heading for Vessels Widget-->
                <header>
                    <span class="widget-icon"> <i class="fa fa-table"></i> </span>
                    <h2>Components Table</h2>
                </header>

                <div>
                    <!--Do NOT forget this - required for alignment-->

                    <div class="widget-body no-padding">
                        <table id="dt_components" class="table table-striped table-bordered table-hover table.display" width="100%">
                            <thead>
                                <tr>
                                    
                                </tr>
                            </thead>

                            <tbody>
                                @foreach (var c in ViewBag.ListComponents)
                                {
                                    <tr>
                                        
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div> <!--End of widget body-->


                </div>
            </div>
        </article>
    </div> <!--End of row-->


</section> <!--End of Tables Section-->







    @section pagespecific {
        <!-- PAGE RELATED PLUGIN(S) -->
        <script src="/scripts/plugin/bootstrap-wizard/jquery.bootstrap.wizard.min.js"></script>
        <script src="/scripts/plugin/fuelux/wizard/wizard.min.js"></script>

        <script type="text/javascript">

            // DO NOT REMOVE : GLOBAL FUNCTIONS!

            $(document).ready(function () {




                // fuelux wizard
                var wizard = $('.wizard').wizard();

                wizard.on('finished', function (e, data) {
                    //$("#fuelux-wizard").submit();
                    //console.log("submitted!");
                    $.smallBox({
                        title: "Your project has been saved",
                        content: "<i class='fa fa-signal'></i> <i>Go to projects to begin optimisation</i>",
                        color: "#5F895F",
                        iconSmall: "fa fa-check bounce animated",
                        timeout: 4000
                    });
                });
                //End of wizard

                //Data Tables section
                var responsiveHelper_dt_basic = undefined;
                var responsiveHelper_vessels = undefined;
                var responsiveHelper_components = undefined;

                var responsiveHelper_datatable_fixed_column = undefined;
                var responsiveHelper_datatable_col_reorder = undefined;
                var responsiveHelper_datatable_tabletools = undefined;

                var breakpointDefinition = {
                    tablet: 1024,
                    phone: 480
                };

                //Vessels Table
                $('#dt_vessels').dataTable({
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'f><'col-sm-6 col-xs-12 hidden-xs'l>r>" +
                        "t" +
                        "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-xs-12 col-sm-6'p>>",
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        // Initialize the responsive datatables helper once for this table.
                        if (!responsiveHelper_vessels) {
                            responsiveHelper_vessels = new ResponsiveDatatablesHelper($('#dt_vessels'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_vessels.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_vessels.respond();
                    }
                });

                //Components Table
                $('#dt_components').dataTable({
                    "sDom": "<'dt-toolbar'<'col-xs-12 col-sm-6'f><'col-sm-6 col-xs-12 hidden-xs'l>r>" +
                        "t" +
                        "<'dt-toolbar-footer'<'col-sm-6 col-xs-12 hidden-xs'i><'col-xs-12 col-sm-6'p>>",
                    "autoWidth": true,
                    "preDrawCallback": function () {
                        if (!responsiveHelper_components) {
                            responsiveHelper_components = new ResponsiveDatatablesHelper($('#dt_components'), breakpointDefinition);
                        }
                    },
                    "rowCallback": function (nRow) {
                        responsiveHelper_components.createExpandIcon(nRow);
                    },
                    "drawCallback": function (oSettings) {
                        responsiveHelper_components.respond();
                    }
                });

            })

        </script>
    }
